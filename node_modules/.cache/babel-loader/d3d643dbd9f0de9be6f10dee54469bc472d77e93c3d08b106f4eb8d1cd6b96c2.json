{"ast":null,"code":"var _jsxFileName = \"/Users/didaryilmaz/Documents/GitHub/YardimMasasi/yardim-masasi/src/ListTickets.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ListTickets = () => {\n  _s();\n  const [rowData, setRowData] = useState([]);\n  const navigate = useNavigate();\n  const token = localStorage.getItem(\"token\");\n  const role = localStorage.getItem(\"role\");\n  const fetchTickets = useCallback(() => {\n    fetch(\"http://localhost:5094/api/Ticket/getAllTickets\", {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(response => response.json()).then(data => {\n      setRowData(data);\n    }).catch(error => {\n      console.error(\"Error fetching tickets:\", error);\n    }, [token]);\n  });\n  useEffect(() => {\n    if (!token) {\n      navigate(\"/login\");\n    } else if (role !== \"Admin\") {\n      alert(\"Bu sayfaya erişim izniniz yok.\");\n      navigate(\"/tickets\");\n    } else {\n      fetchTickets();\n    }\n  }, [token, role, fetchTickets, navigate]);\n  const columnDefs = [{\n    field: \"ticketId\",\n    headerName: \"Ticket ID\"\n  }, {\n    field: \"description\",\n    headerName: \"Açıklama\"\n  }, {\n    field: \"categoryId\",\n    headerName: \"Kategori ID\"\n  }, {\n    field: \"priorityId\",\n    headerName: \"Öncelik ID\"\n  }, {\n    field: \"status\",\n    headerName: \"Durum\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ag-theme-alpine\",\n    style: {\n      height: 600,\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(AgGridReact, {\n      rowData: rowData,\n      columnDefs: columnDefs,\n      pagination: true,\n      paginationPageSize: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 13\n  }, this);\n};\n_s(ListTickets, \"skX5ufvdR3cWk6alNgu9ifc+94s=\", false, function () {\n  return [useNavigate];\n});\n_c = ListTickets;\nexport default ListTickets;\nvar _c;\n$RefreshReg$(_c, \"ListTickets\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useNavigate","AgGridReact","jsxDEV","_jsxDEV","ListTickets","_s","rowData","setRowData","navigate","token","localStorage","getItem","role","fetchTickets","fetch","method","headers","Authorization","then","response","json","data","catch","error","console","alert","columnDefs","field","headerName","className","style","height","width","children","pagination","paginationPageSize","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/didaryilmaz/Documents/GitHub/YardimMasasi/yardim-masasi/src/ListTickets.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\"; \nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/styles/ag-grid.css\";\nimport \"ag-grid-community/styles/ag-theme-alpine.css\";\n\nconst ListTickets = () => {\n    const [rowData, setRowData] = useState([]);\n    const navigate = useNavigate();\n    const token = localStorage.getItem(\"token\");\n    const role = localStorage.getItem(\"role\");\n\n    const fetchTickets = useCallback(() => {\n        fetch(\"http://localhost:5094/api/Ticket/getAllTickets\", {\n            method: \"GET\",\n            headers: {\n                Authorization: `Bearer ${token}`,\n            },\n        })\n            .then((response) => response.json())\n            .then((data) => {\n                setRowData(data);\n            })\n            .catch((error) => {\n                console.error(\"Error fetching tickets:\", error);\n            }, [token]);\n        });\n\n        useEffect(() => {\n            if (!token) {\n                navigate(\"/login\");\n            } else if (role !== \"Admin\") {\n                alert(\"Bu sayfaya erişim izniniz yok.\");\n                navigate(\"/tickets\"); \n            } else {\n                fetchTickets();\n            }\n        }, [token, role, fetchTickets, navigate]);\n\n        const columnDefs = [\n            { field: \"ticketId\", headerName: \"Ticket ID\" },\n            { field: \"description\", headerName: \"Açıklama\" },\n            { field: \"categoryId\", headerName: \"Kategori ID\" },\n            { field: \"priorityId\", headerName: \"Öncelik ID\" },\n            { field: \"status\", headerName: \"Durum\" },\n        ];\n\n        return (\n            <div className=\"ag-theme-alpine\" style={{ height: 600, width: \"100%\" }}>\n                <AgGridReact\n                    rowData={rowData}\n                    columnDefs={columnDefs}\n                    pagination={true}\n                    paginationPageSize={20}\n                />\n            </div>\n        );\n    };\n        \nexport default ListTickets;\n\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/D,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,eAAe;AAC3C,OAAO,sCAAsC;AAC7C,OAAO,8CAA8C;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAMU,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMC,IAAI,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAEzC,MAAME,YAAY,GAAGd,WAAW,CAAC,MAAM;IACnCe,KAAK,CAAC,gDAAgD,EAAE;MACpDC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,aAAa,EAAE,UAAUR,KAAK;MAClC;IACJ,CAAC,CAAC,CACGS,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;MACZd,UAAU,CAACc,IAAI,CAAC;IACpB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACnD,CAAC,EAAE,CAACd,KAAK,CAAC,CAAC;EACf,CAAC,CAAC;EAEFZ,SAAS,CAAC,MAAM;IACZ,IAAI,CAACY,KAAK,EAAE;MACRD,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,MAAM,IAAII,IAAI,KAAK,OAAO,EAAE;MACzBa,KAAK,CAAC,gCAAgC,CAAC;MACvCjB,QAAQ,CAAC,UAAU,CAAC;IACxB,CAAC,MAAM;MACHK,YAAY,CAAC,CAAC;IAClB;EACJ,CAAC,EAAE,CAACJ,KAAK,EAAEG,IAAI,EAAEC,YAAY,EAAEL,QAAQ,CAAC,CAAC;EAEzC,MAAMkB,UAAU,GAAG,CACf;IAAEC,KAAK,EAAE,UAAU;IAAEC,UAAU,EAAE;EAAY,CAAC,EAC9C;IAAED,KAAK,EAAE,aAAa;IAAEC,UAAU,EAAE;EAAW,CAAC,EAChD;IAAED,KAAK,EAAE,YAAY;IAAEC,UAAU,EAAE;EAAc,CAAC,EAClD;IAAED,KAAK,EAAE,YAAY;IAAEC,UAAU,EAAE;EAAa,CAAC,EACjD;IAAED,KAAK,EAAE,QAAQ;IAAEC,UAAU,EAAE;EAAQ,CAAC,CAC3C;EAED,oBACIzB,OAAA;IAAK0B,SAAS,EAAC,iBAAiB;IAACC,KAAK,EAAE;MAAEC,MAAM,EAAE,GAAG;MAAEC,KAAK,EAAE;IAAO,CAAE;IAAAC,QAAA,eACnE9B,OAAA,CAACF,WAAW;MACRK,OAAO,EAAEA,OAAQ;MACjBoB,UAAU,EAAEA,UAAW;MACvBQ,UAAU,EAAE,IAAK;MACjBC,kBAAkB,EAAE;IAAG;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1B;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd,CAAC;AAAClC,EAAA,CAnDAD,WAAW;EAAA,QAEIJ,WAAW;AAAA;AAAAwC,EAAA,GAF1BpC,WAAW;AAqDjB,eAAeA,WAAW;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}